<div class="container mt-5 mb-3">
    <div class="d-flex justify-content-between align-items-center">
        <h2 class="font-weight-bold mb-2">Exams</h2>
        <div>
            <button *ngIf="isTeacher" class="btn btn-outline-success mx-2"
                routerLink="/groups/{{group.id}}/exams/new"><i class="fa-solid fa-circle-plus"></i> New
                Exam</button>
            <!-- <button *ngIf="!addingQuestionsToExam && exam != null" class="btn btn-outline-success mx-2"
            (click)="addStudentsToGroup(exam.id)">Add New Question</button>
          <button *ngIf="addingQuestionsToExam && exam != null" class="btn btn-outline-success mx-2"
            (click)="backToGroup(exam.id)">Back</button> -->
        </div>
    </div>
    <hr>

    <div class="row">
        <div *ngIf="exams.length == 0 && examLoaded" class="alert alert-warning" role="alert">
                No avaiable exams
        </div>
        <div class="col-md-6" *ngFor="let exam of exams; let idx = index;">
            <div class="card p-3 mb-2 bg-light position-relative">
                <div class="d-flex justify-content-between">
                    <div class="d-flex flex-row align-items-center">
                        <!-- <div class="icon"> <i class="bx bxl-mailchimp"></i> </div> -->
                        <div class="ms-2 c-details">
                            <!-- <h5 class="mb-0">{{group.title}}</h5> -->
                            <span class=""> {{exam.title}} </span>
                            <!-- <span class="text text-primary">{{group.students.length}} Students</span> |  -->
                        </div>
                    </div>
                    <div class="badge"> <span><i class="fa fa-file-signature"></i></span> </div>
                </div>
                <div class="mt-2 d-flex justify-content-center">
                    <h4 class="heading">{{exam.description}}</h4>
                </div>

                <div class="card-body">
                    <div class="row d-flex justify-content-center">
                        <a *ngIf="isTeacher" (click)="startExam(exam.id)" class="btn btn-outline-primary col-lg-4"><i
                                class="fa-regular fa-file-lines"></i> Questions</a>
                        <!-- <a 
                            class="btn btn-outline-secondary mx-1 col-lg-3"><i class="fa-solid fa-pen-to-square"></i>
                            Edit</a>
                        <a  class="btn btn-outline-danger col-lg-3"><i
                                class="fa-solid fa-trash"></i> Delete</a> -->
                        <a *ngIf="!isTeacher"
                            [routerLink]="['/exams', exam.id, 'students',this.authService.loggedUserId(), 'start']"
                            class="btn btn-success col-lg-3">Start</a>
                    </div>
                    
                </div>
                
                <span class="d-flex justify-content-start align-items-end position-absolute bottom-0 left-0 mb-2">
                    <a *ngIf="isTeacher" (click)="deleteExam(exam.id)"
                        class="btn btn-outline-danger mx-1 custom-small-btn rounded-circle">
                        <i class="fa fa-trash"></i>
                    </a>
                    <button class="btn btn-outline-secondary mx-1 custom-small-btn rounded-circle"
                    *ngIf="isTeacher" routerLink="/groups/{{group.id}}/exams/{{exam.id}}/edit">
                        <i class="fa-solid fa-file-signature"></i>
                    </button>
                </span>
                
            </div>
        </div>
    </div>
</div>